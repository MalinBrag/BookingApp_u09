<main class="manage-users">
    <div class="header">
        <h1 class="title">{{ title }}</h1>
    </div>

    <!-- KOMMENTERA FRAM. GÃ–MMER UNDER DEV.
    <div *ngIf="isLoading" class="loading">
        <mat-progress-bar mode="buffer" [value]="progress" [bufferValue]="bufferProgress"></mat-progress-bar>
    </div>
-->
    <div class="users-list">
        <div class="user" *ngFor="let user of users">
            <div class="user-info">
                <p class="name">{{ user.name }}</p>
                <p class="email">{{ user.email }}</p>
                <p class="role">{{ user.role }}</p>
            </div>
            <div class="buttons">
                <button class="edit-btn" (click)="toggleDropdown(user)">Edit</button>
                <button class="delete-btn" (click)="openDelete(user)">Delete</button>
            </div>

            <div *ngIf="dropdownOpen">
                <app-user-form 
                *ngIf="userToEdit === user"  
                [fields]="fields"
                (formSubmit)="onEditSubmit($event)"
                ></app-user-form>
            </div>


        </div>
    </div>

</main>
